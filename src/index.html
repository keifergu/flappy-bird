<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<canvas id="canvas" width="600" height="600"></canvas>
  <script type="text/javascript" src="./module/graphical.js"></script>
  <script type="text/javascript" src="./module/vector.js"></script>
	<script type="text/javascript">
  var canvas = document.getElementById('canvas');
  var ctx = canvas.getContext('2d');
  var raf;
  var ball = new Circle(50, 25, 25);
  ball.vy = 2;
  var obstacleTop = new Rect(canvas.width, 0, 100, 250);
  var obstacleDown = new Rect(canvas.width,300,100,canvas.height-300);

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    if (obstacleTop.x == 0) {
      obstacleTop.x = obstacleDown.x = canvas.width;
    }

    if (ball.collision(obstacleTop) || ball.collision(obstacleDown)) {
      ball.y = 50;
    }

    ball.move().draw(ctx);
    obstacleTop.set({
      vx:-2
    }).move().draw(ctx);
    obstacleDown.set({
      vx:-2
    }).move().draw(ctx);


    raf = window.requestAnimationFrame(draw);
  }
  raf = window.requestAnimationFrame(draw);
  canvas.addEventListener('click', function(e){
    ball.vy = -10;
  });

  ball.draw();
	</script>
</body>
</html>